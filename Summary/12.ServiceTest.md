# 인프런 - 스프링 입문 강의 내용 정리

### 12. 회원 서비스 테스트

- 이전에 테스트할 때에는 패키지를 직접 만들었다.
  - 클래스에서 단축키 (alt + shift + T) 를 누르면 새로 테스트 클래스를 만들어준다.
  - 패키지를 구성하여 테스트 클래스의 껍데기를 자동으로 만든다.

<br/>

- 테스트를 작성할 때에는 한글을 사용해도 된다.
  - 실제 동작하는 코드는 관리 상 한글로 적기 애매하지만
  - 테스트 코드는 실제 코드에 포함되지 않고, 한글로 작성하면 직관적이라는 장점이 있어서 가능하다.

<br/>

- 테스트가 익숙하지 않다면 give - when - then 문법을 이용하면 좋다.
  - 테스트는 상황이 주어지기 때문에 실행했을 때와 나와야하는 결과도 정해져 있다.
  - when 에서는 어떤 것을 검증하는 것인지,
  - then 에서는 검증 과정,
  - given 에서는 주어진 테스트 데이터를 확인할 수 있따.

<br/>

- 테스트는 정상 흐름도 중요하지만, 예외 흐름이 더욱 중요하다.
  - 회원 가입의 핵심은 저장도 중요하지만, 중복 검증도 중요하다.
  - 예외는 try-catch로도 잡을 수 있지만, assertThrows()라는 메소드를 사용할 수도 있다.

<br/>

- 리포지토리 테스트와 마찬가지로 테스트 시 충돌이 일어나지 않으려면 리포지토리 clean을 해야한다.
  - 리포지토리를 new로 직접 생성하면 memberService가 사용하는 것과 다른 인스턴스를 참조한다.
  - 같은 것을 참조하도록 MemberService에 MemberRepository를 외부에서 넣어줄 수 있도록 수정한다.
  - 이것을 Dependency Injection이라고 한다.
